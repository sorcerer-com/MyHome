{% extends "base.html" %}

{% block content %}		
		<h2 class='title'>Settings</h2>
		
		<form id='form' action='' method='post' class='settings'>
			{% for name, props in items|dictsort %}
			<details onclick="toggleDetails(this)">
				<summary>{{ name }}</summary>
				<ul>
				{% for key, value in props|dictsort %}
					{% if value is not sequence or value is string %}
					<li>
						<h3>{{ key }}: </h3>
						<input type='text' name='{{ name }}:{{ key }}' value='{{ value }}' title ='{{ value }}'/>
					</li>
					{% else %}
					{% for item in value %}
					<li>
						<h3>{{ key }}: </h3>
						<input type='text' name='{{ name }}:{{ key }}[]' value='{{ item }}' title ='{{ item }}'/>
						<a class='button' href='javascript:;' onclick='removeItem(this)'>-</a>
					</li>
					{% endfor %}
					<div class='buttonContainer'>
						<a class='button' href='javascript:;' onclick='addItem(this)'>+</a>
					</div>
					{% endif %}
				{% else %}
				</ul>
				None
				<ul>
				{% endfor %}
				</ul>
			</details>
			{% endfor %}
		</form>
		
		<div class='buttonContainer'>
			<a class='button' href='javascript:;' onclick='submitForm("form");'>Save</a>
			<a class='button' href='/'>Cancel</a>
		</div>
{% endblock %}
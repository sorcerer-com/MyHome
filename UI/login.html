<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1.0, width=device-width" />

    <title>My Home</title>
    <link rel="icon" type="image/ico" href="./images/MyHome.ico" />

    <link rel="stylesheet" href="./external/material-icons.css" />
    <link rel="stylesheet" href="./external/w3.css" />

    <script src="./external/jquery.min.js"></script>

    <link rel="stylesheet" href="./style.css" />
    <script src="./scripts.js"></script>

    <script>
        function addTextToPassword(text) {
            let input = $("input[name='password']");
            input.val(input.val() + text);
        }

        function removeLastFromPassword(count) {
            let input = $("input[name='password']");
            input.val(input.val().slice(0, -count));
        }

        function submitForm() {
            $("#login").submit();
        }

        $(() => {
            if (window.location.search != "?invalid") {
                $("#error").hide();
            }
        });
    </script>
</head>
<body>
    <!-- Title bar -->
    <div class="w3-bar w3-padding w3-display-container title-bar">
        <div class="w3-display-middle w3-cell">
            <img src="./images/MyHome.ico" width="32" class="w3-cell-middle" />
            <h3 class="w3-cell-middle w3-padding-small w3-show-inline-block">My Home</h3>
        </div>
    </div>

    <!-- Content -->
    <div class="w3-display-container height-100">
        <form id="login" class="w3-display-middle" action="./login" method="post">
            <h4 class="w3-margin-left">LogIn</h4>
            <div class="w3-padding w3-round-large margin-8 bg-gray-opacity-88">
                <div id="error" class="w3-margin-left w3-text-red w3-small">Invalid password</div>
                <input class="w3-margin" type="password" name="password" autofocus />
                <div class="w3-bar w3-center">
                    <a class="w3-button w3-large w3-light-grey w3-hover-grey margin-8"
                       onclick="addTextToPassword(this.text)">1</a>
                    <a class="w3-button w3-large w3-light-grey w3-hover-grey margin-8"
                       onclick="addTextToPassword(this.text)">2</a>
                    <a class="w3-button w3-large w3-light-grey w3-hover-grey margin-8"
                       onclick="addTextToPassword(this.text)">3</a>
                </div>
                <div class="w3-bar w3-center">
                    <a class="w3-button w3-large w3-light-grey w3-hover-grey margin-8"
                       onclick="addTextToPassword(this.text)">4</a>
                    <a class="w3-button w3-large w3-light-grey w3-hover-grey margin-8"
                       onclick="addTextToPassword(this.text)">5</a>
                    <a class="w3-button w3-large w3-light-grey w3-hover-grey margin-8"
                       onclick="addTextToPassword(this.text)">6</a>
                </div>
                <div class="w3-bar w3-center">
                    <a class="w3-button w3-large w3-light-grey w3-hover-grey margin-8"
                       onclick="addTextToPassword(this.text)">7</a>
                    <a class="w3-button w3-large w3-light-grey w3-hover-grey margin-8"
                       onclick="addTextToPassword(this.text)">8</a>
                    <a class="w3-button w3-large w3-light-grey w3-hover-grey margin-8"
                       onclick="addTextToPassword(this.text)">9</a>
                </div>
                <div class="w3-bar w3-center w3-margin-bottom">
                    <a class="w3-button w3-large w3-light-grey w3-hover-grey margin-8 material-icons"
                       onclick="removeLastFromPassword(1)">backspace</a>
                    <a class="w3-button w3-large w3-light-grey w3-hover-grey margin-8"
                       onclick="addTextToPassword(this.text)">0</a>
                    <a class="w3-button w3-large w3-light-grey w3-hover-grey margin-8 material-icons w3-text-green"
                       onclick="submitForm()">done</a>
                </div>
            </div>
        </form>
    </div>
</body>
</html>
